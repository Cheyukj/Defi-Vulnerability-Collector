import requests
from bs4 import BeautifulSoup

# 发送HTTP请求获取新闻列表页面的HTML内容
url = 'https://substack.com/@blockthreat'
response = requests.get(url)
html = response.text

# 解析HTML内容
soup = BeautifulSoup(html, 'html.parser')

# 提取新闻链接
news_links = []
for link in soup.find_all('a', class_='news-link'):
    news_links.append(link['href'])

# 遍历新闻链接并获取每个新闻页面的HTML内容
for news_link in news_links:
    news_response = requests.get(news_link)
    news_html = news_response.text

    # 解析新闻内容
    news_soup = BeautifulSoup(news_html, 'html.parser')
    title = soup.find('div', class_='reader2-post-title reader2-clamp-lines')
    content = news_soup.find('div', class_='content').get_text()

    # 输出新闻标题和内容（可以保存到文件或数据库）
    print('标题:', title)
    print('内容:', content)
    print('-----------------')

